html { -webkit-text-size-adjust: 100%; }
body { margin: 0; font-family: var(--cp-font-family); background: var(--cp-colour-bg); color: var(--cp-colour-fg); line-height: var(--cp-line-height); }
header, main { max-width: 960px; margin: 0 auto; padding: 1.25rem; }
a { color: var(--cp-colour-primary); text-decoration: none; }
a:hover, a:focus { text-decoration: underline; }
.muted { color: var(--cp-colour-muted); }
.panel { background: var(--cp-colour-surface); border: 1px solid var(--cp-colour-border); border-radius: var(--cp-radius-2); padding: 1rem 1.25rem; box-shadow: var(--cp-shadow-1); }
.grid { display: grid; gap: 1rem; }
.grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
@media (max-width: 720px) { .grid-2 { grid-template-columns: 1fr; } }
.kv { display: grid; grid-template-columns: 160px 1fr; gap: .25rem .75rem; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
.link-btn { background: none; border: 0; color: var(--cp-colour-primary); cursor: pointer; padding: 0; font: inherit; }
.link-btn:hover, .link-btn:focus { text-decoration: underline; }

/* Header/Nav layout */
.header-nav { position: relative; display: block; }
.nav-row { display: flex; gap: .75rem; align-items: center; flex-wrap: nowrap; }
.flex-spacer { flex: 1 1 auto; }
.hdr-actions { display: flex; gap: .5rem; align-items: center; justify-content: flex-end; }
.header-search input { width: 28rem; max-width: 50vw; }
.breadcrumbs a { color: var(--cp-colour-primary); }
.breadcrumbs .muted { color: var(--cp-colour-muted); }

/* Explore menu */
.explore-wrap { position: relative; display: inline-block; }
.explore-panel { display: none; position: absolute; background: #fff; border: 1px solid var(--cp-colour-border); border-radius: var(--cp-radius-2); box-shadow: var(--cp-shadow-2); padding: .75rem; top: calc(100% + .25rem); left: 0; min-width: 280px; z-index: 1100; }
.explore-panel.open { display: block; }
.explore-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: .5rem 1rem; }
.explore-panel a { display: block; padding: .25rem 0; color: var(--cp-colour-fg); text-decoration: none; }
.explore-panel a:hover, .explore-panel a:focus { color: var(--cp-colour-primary); text-decoration: underline; }

/* Responsive nav toggle */
.nav-toggle { display: none; }
@media (max-width: 768px) {
  .nav-toggle { display: inline-block; }
  .header-links { display: none; width: 100%; margin-top: .5rem; }
  .header-links.open { display: block; }
}
.notif-wrap { position: relative; display: inline-block; }
.notif-panel { display: none; position: absolute; background: #fff; border: 1px solid var(--cp-colour-border); padding: .5rem; border-radius: var(--cp-radius-2); width: 500px; max-width: 90vw; z-index: 1000; left: 0; right: auto; top: calc(100% + .25rem); }
.notif-panel.open { display: block; }
.notif-list { margin: .5rem 0; padding-left: 1rem; }

/* Messages */
.messages-container { max-width: 960px; margin: 0 auto 1rem auto; }
.messages-list { margin: 0; padding-left: 1.2rem; }

/* Inputs */
.input { padding: .35rem .5rem; border: 1px solid var(--cp-colour-border); border-radius: var(--cp-radius-1); font: inherit; }
.btn { display: inline-flex; align-items: center; justify-content: center; padding: .45rem .75rem; border-radius: var(--cp-radius-1); border: 1px solid transparent; background: var(--cp-colour-primary); color: #fff; font: inherit; cursor: pointer; text-decoration: none; line-height: 1.2; }
.btn:hover, .btn:focus { filter: brightness(0.95); }
.btn-secondary { display: inline-flex; align-items: center; justify-content: center; padding: .45rem .75rem; border-radius: var(--cp-radius-1); border: 1px solid var(--cp-colour-primary); background: transparent; color: var(--cp-colour-primary); text-decoration: none; line-height: 1.2; }
.btn-secondary:hover, .btn-secondary:focus { background: rgba(42,115,204,0.06); }
.btn-link { background: none; border: 0; padding: 0; color: var(--cp-colour-primary); cursor: pointer; font: inherit; }
.btn-link:hover, .btn-link:focus { text-decoration: underline; }

/* Footer */
.footer { max-width: 960px; margin: 2rem auto 1rem auto; padding: 1.25rem; }

/* Utilities */
.inline { display: inline; }
.chat-log { max-height: 220px; overflow: auto; border: 1px solid var(--cp-colour-border); padding: .5rem; background: #fff; }
.w-80 { width: 80%; }
.avatar { width: 24px; height: 24px; vertical-align: middle; border-radius: 50%; }
.mb-2 { margin-bottom: .5rem; }
.mt-2 { margin-top: .5rem; }

/* Course cards */
.card-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 1rem; }
@media (max-width: 1024px) { .card-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (max-width: 640px) { .card-grid { grid-template-columns: 1fr; } }
.card { position: relative; background: #fff; border: 1px solid var(--cp-colour-border); border-radius: var(--cp-radius-2); box-shadow: var(--cp-shadow-1); padding: .75rem 1rem; }
.card h3 { margin: 0 0 .25rem 0; font-size: 1.05rem; }
.card .meta { color: var(--cp-colour-muted); font-size: .9rem; margin-bottom: .5rem; }
.card .actions { display: flex; gap: .5rem; align-items: center; flex-wrap: wrap; }
.card-status { position: absolute; top: .5rem; right: .5rem; }

/* Course hero */
.hero { display: grid; gap: .5rem; }
.hero-actions { display: flex; gap: .5rem; align-items: center; flex-wrap: wrap; margin-top: .25rem; }
.badge { display: inline-block; font-size: .8rem; color: var(--cp-colour-primary); border: 1px solid var(--cp-colour-primary); border-radius: var(--cp-radius-1); padding: .1rem .4rem; }

/* Accordion */
.accordion { border-top: 1px solid var(--cp-colour-border); }
.accordion-item { border-bottom: 1px solid var(--cp-colour-border); }
.accordion-button { width: 100%; text-align: left; background: none; border: 0; padding: .75rem 0; font: inherit; cursor: pointer; display: flex; align-items: center; justify-content: space-between; }
.accordion-button:focus { outline: 2px solid var(--cp-colour-primary); outline-offset: 2px; }
.accordion-button .chev { transition: transform .15s ease; }
.accordion-button[aria-expanded="true"] .chev { transform: rotate(90deg); }
.accordion-panel { padding: .25rem 0 .75rem 0; }
.accordion-panel[hidden] { display: none; }

/* Instructor section */
.instructor { display: grid; grid-template-columns: 48px 1fr; gap: .5rem; align-items: center; }
.instructor img { width: 48px; height: 48px; border-radius: 50%; }

/* Panel heading for right-aligned actions */
.panel-heading { position: relative; display: flex; align-items: center; justify-content: flex-start; gap: .5rem; }
.panel-heading .action-right { position: absolute; right: 1.25rem; top: 50%; transform: translateY(-50%); }
